reticulate::repl_python()
# í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ
library(MASS) # ë°ì´í„° ìƒì„±ì„ ìœ„í•´
library(caret) # ëª¨ë¸ í‰ê°€ë¥¼ ìœ„í•´
# ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„± í•¨ìˆ˜
generate_data <- function(n, beta) {
x1 <- rnorm(n)
x2 <- rnorm(n)
z <- 1 + beta * x1 + beta * x2
pr <- 1 / (1 + exp(-z))
y <- rbinom(n, 1, pr)
data.frame(x1, x2, y)
}
# ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„±
set.seed(123)
beta <- 0.5 # íŒŒë¼ë¯¸í„° ì„¤ì •
data <- generate_data(1000, beta)
# ë¡œì§€ìŠ¤í‹± íšŒê·€ ëª¨ë¸ ì í•©
model <- glm(y ~ x1 + x2, data = data, family = "binomial")
# ëª¨ë¸ ìš”ì•½
summary(model)
# ëª¨ë¸ ì„±ëŠ¥ í‰ê°€ (ì •í™•ë„, AUC ë“±)
predictions <- predict(model, data, type = "response")
roc_curve <- roc(response = data$y, predictor = as.numeric(predictions))
print(auc(roc_curve))
# ëª¨ë¸ ì„±ëŠ¥ í‰ê°€ (ì •í™•ë„, AUC ë“±)
predictions <- predict(model, data, type = "response")
roc_curve <- roc(response = data$y, predictor = as.numeric(predictions))
# í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ
library(MASS) # ë°ì´í„° ìƒì„±ì„ ìœ„í•´
library(caret) # ëª¨ë¸ í‰ê°€ë¥¼ ìœ„í•´
library(pROC)
# ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„± í•¨ìˆ˜
generate_data <- function(n, beta) {
x1 <- rnorm(n)
x2 <- rnorm(n)
z <- 1 + beta * x1 + beta * x2
pr <- 1 / (1 + exp(-z))
y <- rbinom(n, 1, pr)
data.frame(x1, x2, y)
}
# ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„±
set.seed(123)
beta <- 0.5 # íŒŒë¼ë¯¸í„° ì„¤ì •
data <- generate_data(1000, beta)
# ë¡œì§€ìŠ¤í‹± íšŒê·€ ëª¨ë¸ ì í•©
model <- glm(y ~ x1 + x2, data = data, family = "binomial")
# ëª¨ë¸ ìš”ì•½
summary(model)
# ëª¨ë¸ ì„±ëŠ¥ í‰ê°€ (ì •í™•ë„, AUC ë“±)
predictions <- predict(model, data, type = "response")
roc_curve <- roc(response = data$y, predictor = as.numeric(predictions))
print(auc(roc_curve))
generate_data
# ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„± í•¨ìˆ˜
generate_data <- function(n, beta) {
x1 <- rnorm(n)
x2 <- rnorm(n)
z <- 1 + beta * x1 + beta * x2
pr <- 1 / (1 + exp(-z))
y <- rbinom(n, 1, pr)
data.frame(x1, x2, y)
}
# ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„±
set.seed(123)
beta <- 0.5 # íŒŒë¼ë¯¸í„° ì„¤ì •
data <- generate_data(1000, beta)
data
# 0.Loading Data ===============================================================================
Data_2 = readRDS("/Users/Ido/Library/CloudStorage/Dropbox/GitHub/Papers___Data/GitHub___Data___Papers___MS/GitHub___Data___Papers___MS___Data/Combiend___FunImgARglobalCWSF___Subjects_ADCN.rds")
class(Data_2)
names(Data_2)
## Unlist
X = rbind(Data_2$Train_X, Data_2$Test_X)
dim(X)
View(X)
# 0.Loading Data ===============================================================================
# Load
Data = readRDS("/Users/Ido/Library/CloudStorage/Dropbox/GitHub/Papers___Data/GitHub___Data___Papers___MS/GitHub___Data___Papers___MS___Data/Combiend___FunImgARglobalCWSF___Subjects_ADCN.rds")
Train_X = Data$Train_X
Train_y = Data$Train_y
## Unlist
Train_X = Data$Train_X
Train_y = Data$Train_y
Test_X = Data$Test_X
Test_y = Data$Test_y
# Extract X
X = rbind(Data$Train_X, Data$Test_X)
dim(X)
View(X)
# 1.Sampling index
Index = 1:nrow(X)
length(Index)
# 1.Sampling index
index = 1:nrow(X)
length(index)
# 1.Sampling ===============================================================================
## @1.Index --------------------------------------------------------------------------------------------
N = 100 # sampling number
index = 1:nrow(X)
sampled_index = sample(x = index, n = N, replace = T)
sampled_index = sample(x = index, size = N, replace = T)
sampled_index
length(sampled_index)
## @2.Diagnosis --------------------------------------------------------------------------------------------
### Prop : CN(80%), AD(20%)
sampled_diagnosis = c(rep(0, 80), rep(1, 20))
sampled_diagnosis
X_new = X[sampled_index, ]
dim(X_new)
## @ 3.New data --------------------------------------------------------------------------------------------
X_sampled = X[sampled_index, ]
X_New = cbind(sampled_diagnosis, X_sampled)
X_New
View(X_New)
reticulate::repl_python()
replace_str_filenames = function(directory, old_string, new_string, recursive = FALSE) {
# ì§€ì •ëœ ê²½ë¡œì˜ ëª¨ë“  í´ë” ë° íŒŒì¼ ëª©ë¡ì„ ê°€ì ¸ì˜´
files <- list.files(directory, full.names = TRUE, recursive = recursive)
# í´ë” ë° íŒŒì¼ì— ëŒ€í•´ ë°˜ë³µ
for (file in files) {
# íŒŒì¼ì˜ ìƒˆ ì´ë¦„ ìƒì„±
new_name <- gsub(old_string, new_string, file)
# ìƒˆ ì´ë¦„ìœ¼ë¡œ íŒŒì¼ ë˜ëŠ” í´ë”ë¥¼ ì´ë™
file.rename(file, new_name)
}
cat("Renaming complete.\n")
}
# ì˜ˆì‹œë¡œ ì‚¬ìš©í•  í´ë”ì™€ íŒŒì¼ ê²½ë¡œ ì„¤ì •
directory <- "/Users/Ido/Library/CloudStorage/GoogleDrive-yido.jee@gmail.com/á„‚á…¢ á„ƒá…³á„…á…¡á„‹á…µá„‡á…³/Obsidian/SecondBrain_Obsidian/ğŸŒ¸Stat_Bayesian(ë² ì´ì§€ì•ˆ)/ğŸŸ¥Textbook/ğŸŸ§ë°ì´í„° ë¶„ì„ì„ ìœ„í•œ ë² ì´ì§€ì•ˆ í†µê³„ ëª¨ë¸ë§(ë§ˆì¸ ìš°ë¼)"
old_string <- "old_string"
old_string <- "ğŸŸª"
new_string <- "ğŸŸ§"
# í•¨ìˆ˜ í˜¸ì¶œí•˜ì—¬ íŒŒì¼ ë° í´ë” ì´ë¦„ ë³€ê²½
rename_files(directory, old_string, new_string, recursive = TRUE)
# í•¨ìˆ˜ í˜¸ì¶œí•˜ì—¬ íŒŒì¼ ë° í´ë” ì´ë¦„ ë³€ê²½
replace_str_filenames(directory, old_string, new_string, recursive = TRUE)
new_string <- "ğŸŸ¨"
# í•¨ìˆ˜ í˜¸ì¶œí•˜ì—¬ íŒŒì¼ ë° í´ë” ì´ë¦„ ë³€ê²½
replace_str_filenames(directory, old_string, new_string, recursive = TRUE)
warnings()
replace_str_filenames = function(directory, old_string, new_string, recursive = FALSE) {
# ì§€ì •ëœ ê²½ë¡œì˜ ëª¨ë“  í´ë” ë° íŒŒì¼ ëª©ë¡ì„ ê°€ì ¸ì˜´
files <- list.files(directory, full.names = TRUE, recursive = recursive)
# í´ë” ë° íŒŒì¼ì— ëŒ€í•´ ë°˜ë³µ
for (file in files) {
# íŒŒì¼ì˜ ìƒˆ ì´ë¦„ ìƒì„±
new_name <- gsub(old_string, new_string, file)
# ìƒˆ ì´ë¦„ìœ¼ë¡œ íŒŒì¼ ë˜ëŠ” í´ë”ë¥¼ ì´ë™
file.rename(file, new_name)
}
cat("Renaming complete.\n")
}
# ì˜ˆì‹œë¡œ ì‚¬ìš©í•  í´ë”ì™€ íŒŒì¼ ê²½ë¡œ ì„¤ì •
directory <- "/Users/Ido/Library/CloudStorage/GoogleDrive-yido.jee@gmail.com/á„‚á…¢ á„ƒá…³á„…á…¡á„‹á…µá„‡á…³/Obsidian/SecondBrain_Obsidian/ğŸŒ¸Stat_Bayesian(ë² ì´ì§€ì•ˆ)/ğŸŸ¥Textbook/ğŸŸ§ë°ì´í„° ë¶„ì„ì„ ìœ„í•œ ë² ì´ì§€ì•ˆ í†µê³„ ëª¨ë¸ë§(ë§ˆì¸ ìš°ë¼)"
old_string <- "ğŸŸª"
new_string <- "ğŸŸ¨"
# í•¨ìˆ˜ í˜¸ì¶œí•˜ì—¬ íŒŒì¼ ë° í´ë” ì´ë¦„ ë³€ê²½
replace_str_filenames(directory, old_string, new_string, recursive = TRUE)
warnings()
reticulate::repl_python()
